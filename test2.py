import os

import numpy as np
from scipy import ndimage
import toolkit_3D as tk3

img_path = r"data_p2.3/72_seg.nii.gz"
save_path = r"data_p2.3/72_seg1.nii.gz"

img_dict = tk3.get_any_nii(img_path)

img = img_dict['img']

# delete_list = [(38, 112, 166), (38, 112, 167), (38, 112, 168),
#                (38, 111, 166), (38, 111, 167), (38, 111, 168),
#                (38, 110, 166), (38, 110, 167), (38, 110, 168), (38, 110, 169),
#                (38, 109, 166), (38, 109, 167), (38, 109, 168), (38, 109, 169),
#                (37, 110, 165), (37, 110, 166), (37, 110, 167), (37, 110, 168), (37, 110, 169),
#                (37, 109, 166), (37, 109, 167), (37, 109, 168), (37, 109, 169),
#                (37, 108, 166), (37, 108, 167), (37, 108, 168), (37, 108, 169),]
delete_list = [(54, 95, 98), (54, 95, 97), (54, 96, 97), (54, 96, 96), (54, 97, 96),
               (53, 95, 96), (53, 94, 97), (53, 93, 98),
               (61, 84, 132), (61, 84, 131), (61, 85, 132),
               (62, 83, 132), (62, 84, 133), (62, 84, 132), (62, 84, 131), (62, 85, 133), (62, 85, 132), (62, 85, 131),
               (61, 77, 138), (61, 77, 137), (61, 78, 138), (61, 78, 137), (61, 79, 137), (61, 85, 131),
               (55, 96, 96), (54, 94, 97), (54, 95, 96), (54, 97, 95), (54, 96, 95)]

for delete_point in delete_list:
    delete_point = (delete_point[0] - 1, delete_point[1] - 1, delete_point[2] - 1)
    img[delete_point] = 0

tk3.save_nii(img, save_path, img_dict['info'])